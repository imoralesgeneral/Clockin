<h1 class="text-white bg-dark">Edit employee</h1>
<hr>
<app-loading *ngIf="loading"></app-loading>
<form autocomplete="off" [formGroup]="forma" (ngSubmit)="save()" *ngIf="!loading">
    <div class="form-group row">
        <label class="col-2 col-form-label">Roles</label>
        <div class="col">
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="1" *ngIf="isAdministrator" checked disabled>
                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="1" *ngIf="!isAdministrator" disabled>
                <label class="form-check-label" for="inlineCheckbox1">Admin</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="2" *ngIf="isUser" checked disabled>
                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="2" *ngIf="!isUser" disabled>
                <label class="form-check-label" for="inlineCheckbox2">Employee</label>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">ID employee</label>
        <div class="col">
            <input type="text" class="form-control" placeholder="{{employee.id}}" readonly>
        </div>
        <label class="col-2 col-form-label">ID company</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="{{employee.idCompany}}" readonly>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">Name</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Name" formControlName="name" [class.is-invalid]="notValidName">
            <small *ngIf="notValidName" class="text-danger">Minimum 5 characters</small>
        </div>
        <label class="col-2 col-form-label">Username</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Username" formControlName="username" [class.is-invalid]="notValidUsername">
            <small *ngIf="notValidUsername" class="text-danger">Minimum 5 characters</small>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">Email</label>
        <div class="col">
            <input class="form-control" type="email" placeholder="Email" formControlName="email" [class.is-invalid]="notValidEmail">
            <small *ngIf="notValidEmail" class="text-danger">Email not valid</small>
        </div>
        <label class="col-2 col-form-label">Company</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Company" formControlName="company" readonly>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">Phone Number</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Phone Number" formControlName="phoneNumber">
            <small *ngIf="notValidPhone" class="text-danger">{{forma.controls.phoneNumber.errors.msg}}</small>
        </div>
        <label class="col-2 col-form-label">Salary</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Salary Year" formControlName="salaryYear">
            <small *ngIf="notValidSalary" class="text-danger">{{forma.controls.salaryYear.errors.msg}}</small>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">Holiday days</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Holiday days" formControlName="holidays">
            <small *ngIf="notValidHolidays" class="text-danger">{{forma.controls.holidays.errors.msg}}</small>
        </div>
        <label class="col-2 col-form-label">Number of Payments</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Number of Payments" formControlName="payments">
            <small *ngIf="notValidPayments" class="text-danger">{{forma.controls.payments.errors.msg}}</small>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">Weekly Hours</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="Weekly Hours" formControlName="weeklyHours">
            <small *ngIf="notValidHours" class="text-danger">{{forma.controls.weeklyHours.errors.msg}}</small>
        </div>
        <label class="col-2 col-form-label">IRPF</label>
        <div class="col">
            <input class="form-control" type="text" placeholder="IRPF" formControlName="irpf">
            <small *ngIf="notValidIRPF" class="text-danger">{{forma.controls.irpf.errors.msg}}</small>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col">
            <button type="submit" class="btn btn-outline-primary btn-block">
              <mat-icon>update</mat-icon><span class="ml-1">Update employee</span>
    </button>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col">
            <button type="button" (click)="loadForm()" class="btn btn-outline-secondary btn-block">
              Reset
            </button>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col">
            <button type="button" (click)="deleteEmployee()" class="btn btn-outline-danger btn-block">
              <mat-icon>delete</mat-icon><span class="ml-1">Remove employee</span>
  </button>
        </div>
    </div>
</form>
